                  // Try to normalize assigneeId if it's a string that looks like an ID
                  let targetAssigneeId: any = args.assigneeId;
                  try {
                      const normalized = ctx.db.normalizeId("users", args.assigneeId as string);
                      if (normalized) targetAssigneeId = normalized;
                  } catch (e) {
                      // ignore
                  }
                  q = q.filter((q: any) => q.eq(q.field("assignedTo"), targetAssigneeId));

          if (args.assigneeId && args.assigneeId !== "all") {
              if (args.assigneeId === "unassigned") {
                  q = q.filter((q: any) => q.eq(q.field("assignedTo"), undefined));
              } else {
                  // ... normalization logic ...
              }
          }